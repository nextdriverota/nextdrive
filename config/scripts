/* Database scripts */

CREATE DATABASE rotadb;

USE rotadb;

/* tables */
CREATE TABLE IF NOT EXISTS rotadb.rotaractor (
    CLUB VARCHAR (100),
    NAME_FULL VARCHAR (200),
    NAME_INITIALS VARCHAR (50),
    NAME_ON_CARD VARCHAR (50),
    NAME VARCHAR (30),
    GENDER VARCHAR (10),
    DESIGNATION VARCHAR (50),
    MOBILE VARCHAR (12),
    EMAIL VARCHAR (100),
    NATIONALITY VARCHAR (20),
    NIC VARCHAR (10),
    PASSPORT_NO VARCHAR (12),
    DATE_OF_BIRTH_DATE  NUMERIC (2),
    DATE_OF_BIRTH_MONTH  NUMERIC (2),
    DATE_OF_BIRTH_YEAR  NUMERIC (4),
    ROTARACTOR_MONTH NUMERIC (2),
    ROTARACTOR_YEAR NUMERIC (4),
    ADD_NO VARCHAR (20),
    ADD_STREET VARCHAR (50),
    ADD_STREET_2 VARCHAR (50),
    ADD_TOWN VARCHAR (50),
    ADD_CITY VARCHAR (50),
    ADD_STATE VARCHAR (50),
    ADD_COUNTRY VARCHAR (50),
    PRIMARY KEY (NIC)
);

CREATE TABLE IF NOT EXISTS rotadb.rotaract_user (
    NIC VARCHAR (10),
    PASSWORD VARCHAR (64),
    PRIMARY KEY (NIC),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS rotadb.education (
    NIC VARCHAR (10),
    ID VARCHAR (25),
    INSTITUTE VARCHAR (50),
    DEGREE VARCHAR (50),
    FIELD VARCHAR (20),
    DATE_FROM VARCHAR (10),
    DATE_TO VARCHAR (10),
    DESCRIPTION TEXT,
    PRIMARY KEY (NIC,ID),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS rotadb.work (
    NIC VARCHAR (10),
    ID VARCHAR (25),
    TITLE VARCHAR (25),
    COMPANY VARCHAR (25),
    DATE_FROM VARCHAR (10),
    DATE_TO VARCHAR (10),
    ADDRESS VARCHAR (100),
    DESCRIPTION TEXT,
    PRIMARY KEY (NIC,id),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS rotadb.interests (
    NIC VARCHAR (10),
    INTERESTS TEXT,
    PRIMARY KEY (NIC),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS rotadb.links (
    NIC VARCHAR (10),
    LINKEDIN  VARCHAR (200),
    FACEBOOK  VARCHAR (200),
    GOOGLEPLUS  VARCHAR (200),
    TWITTER  VARCHAR (200),
    BLOG  VARCHAR (200),
    BACKGROUND  TEXT,
    PRIMARY KEY (NIC),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS rotadb.cv_map (
    NIC VARCHAR (10),
    PATH VARCHAR (200),
    PRIMARY KEY (NIC),
    FOREIGN KEY (NIC) REFERENCES rotadb.rotaractor(NIC)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);